/*
 * jquery-ujs
 *
 * http://github.com/rails/jquery-ujs/blob/master/src/rails.js
 *
 * This rails.js file supports jQuery 1.4.3 and 1.4.4 .
 *
 */
jQuery(function(a){var b=a("meta[name=csrf-token]").attr("content"),c=a("meta[name=csrf-param]").attr("content");a.fn.extend({triggerAndReturn:function(b,c){var d=new a.Event(b);return this.trigger(d,c),d.result!==!1},callRemote:function(){var b=this,c=b.attr("method")||b.attr("data-method")||"GET",d=b.attr("action")||b.attr("href"),e=b.attr("data-type")||a.ajaxSettings&&a.ajaxSettings.dataType;if(d===undefined)throw"No URL specified for remote call (action or href must be present).";var f=a(this),g=b.is("form")?b.serializeArray():[];a.ajax({url:d,data:g,dataType:e,type:c.toUpperCase(),beforeSend:function(a){a.setRequestHeader("Accept","text/javascript");if(f.triggerHandler("ajax:beforeSend")===!1)return!1},success:function(a,c,d){b.trigger("ajax:success",[a,c,d])},complete:function(a){b.trigger("ajax:complete",a)},error:function(a,c,d){b.trigger("ajax:error",[a,c,d])}})}}),a("body").delegate("a[data-confirm], button[data-confirm], input[data-confirm]","click.rails",function(){var b=a(this);if(b.triggerAndReturn("confirm")&&!confirm(b.attr("data-confirm")))return!1}),a("form[data-remote]").live("submit.rails",function(b){a(this).callRemote(),b.preventDefault()}),a("a[data-remote],input[data-remote]").live("click.rails",function(b){a(this).callRemote(),b.preventDefault()}),a("a[data-method]:not([data-remote])").live("click.rails",function(d){var e=a(this),f=e.attr("href"),g=e.attr("data-method"),h=a('<form method="post" action="'+f+'"></form>'),i='<input name="_method" value="'+g+'" type="hidden" />';c!==undefined&&b!==undefined&&(i+='<input name="'+c+'" value="'+b+'" type="hidden" />'),h.hide().append(i).appendTo("body"),d.preventDefault(),h.submit()});var d="input[data-disable-with]",e="form[data-remote]:has("+d+")",f="form:not([data-remote]):has("+d+")",g=function(){a(this).find(d).each(function(){var b=a(this);b.data("enable-with",b.val()).attr("value",b.attr("data-disable-with")).attr("disabled","disabled")})};a(e).live("ajax:before.rails",g),a(f).live("submit.rails",g),a(e).live("ajax:complete.rails",function(){a(this).find(d).each(function(){var b=a(this);b.removeAttr("disabled").val(b.data("enable-with"))})});var h=a().jquery;h!=="1.4.3"&&h!=="1.4.4"&&alert("This rails.js does not support the jQuery version you are using. Please read documentation.")});